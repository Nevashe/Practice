<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" xmlns:form="http://www.w3.org/1999/xhtml">
<head>
    <title>Students</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>

<div class="container">
    <br>
    <h1>Students</h1>
    <table class="table">
        <tr>
            <th>id</th>
            <th>Name</th>
            <th>Age</th>
            <th></th>
            <th>Update information</th>
        </tr>
        <tr class="responsive-row" th:each="s : ${studentsList}">
            <td th:text="${s.id}"/>
            <td th:text="${s.name}"/>
            <td th:text="${s.age}"/>
            <td>
                <a type="button" class="btn btn-danger" th:href="'/homework7/students/remove/' + ${s.id}">
                    Remove
                </a>
            </td>
            <td>
                <form action="#" method="POST" th:attr = "action='students/update/' + ${s.id}" th:object="${student}">
                    <label>New name: </label>
                    <input type="text" th:field="*{name}" placeholder="new name" />
                    <label>New age: </label>
                    <input type="number" th:field="*{age}" />
                    <button type="submit" class="btn btn-info">Update</button>
                </form>
            </td>
        </tr>
    </table>
    <h3>Add new student</h3>
    <table class="table">
        <tr>
            <th>Name</th>
            <th>Age</th>
            <th></th>
        </tr>
        <tr>
            <form action="#" method="POST" th:action=@{/students} th:object="${student}">
                <td> <input type="text" th:field="*{name}"/> </td>
                <td> <input type="number" th:field="*{age}"/> </td>
                <td> <button type="submit" class="btn btn-primary">Add</button> </td>
            </form>
        </tr>
    </table>
</div>

</body>
</html>